<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <title>{TAG_14226_TAG}</title>
    <!-- 页面的元信息 -->
    <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no"/>
    <meta name="format-detection" content="telephone=no, email=no"/>
    <meta name="apple-mobile-web-app-capable" content="yes"/>
    <meta name="apple-mobile-web-app-status-bar-style" content="white"/>
    <meta name="renderer" content="webkit"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <meta name="filetype" content="1"/>
    <meta name="publishedtype" content="1"/>
    <meta name="pagetype" content="2"/>
    <meta name="screen-orientation" content="landscape"/>
    <meta name="x5-orientation" content="landscape"/>
    <meta name="full-screen" content="yes"/>
    <meta name="x5-fullscreen" content="true"/>
    <meta name="browsermode" content="application"/>
    <meta name="x5-page-mode" content="app"/>
    
      <!-- 页面主样式文件 -->
      <link charset="utf-8"  rel="stylesheet" href="./static/css/owo.main.css">
      
    <!-- 附属css文件 -->
    <link rel="stylesheet" href="./static/css/main.css" charset="utf-8">
    <link rel="stylesheet" href="./static/css/swiper4.5.0.css" charset="utf-8">
      
  </head>
  <body>
    <div class="scale-box"><!-- 页面区域 -->
    <!-- 页面[loading]-->
    <div class="loading-box owo" template="loading" style="display: none;"><img class="soulless so-12 item-12 owo-animation-floatLeftRight" src="./static/resource/one-12.png" o-animation="floatLeftRight"><img class="soulless so-9 item-9 owo-animation-floatUpDown" src="./static/resource/one-9.png" o-animation="floatUpDown"><img class="soulless so-2 item-2" src="./static/resource/one-2.png"><img class="soulless so-3 item-3" src="./static/resource/one-3.png"><img src="./static/resource/loading.gif"><div class="line"></div></div>
    <!-- 页面[page1]-->
    <div class="page-1 owo" template="page1" style="display: none;"><img class="soulless so-12 item-12 owo-animation-floatLeftRight" src="./static/resource/one-12.png" o-animation="floatLeftRight"><img class="soulless so-9 item-9 owo-animation-floatUpDown" src="./static/resource/one-9.png" o-animation="floatUpDown"><img class="soulless so-4 item-4" src="./static/resource/one-4.png"><img class="soulless so-13 item-13 owo-animation-floatLeftRight" src="./static/resource/one-13.png" o-animation="floatLeftRight"><img class="soulless so-8 item-8 owo-animation-floatLeftRight" src="./static/resource/one-8.png" o-animation="floatLeftRight"><img class="soulless so-10 item-10 owo-animation-floatUpDown" src="./static/resource/one-10-1.png" o-animation="floatUpDown"><img class="soulless so-10 so-10-2 item-10 owo-animation-floatUpDown" src="./static/resource/one-10-2.png" o-animation="floatUpDown"><img class="soulless so-15 item-15 owo-animation-floatUpDown" src="./static/resource/one-15.png" o-animation="floatUpDown"><img class="soulless so-6 item-6 owo-animation-floatUpDown" src="./static/resource/one-6.png" o-animation="floatUpDown"><img class="soulless so-11 item-11 owo-animation-floatLeftRight" src="./static/resource/one-11.png" o-animation="floatLeftRight"><img class="soulless so-16 item-16" src="./static/resource/one-16.png"><img class="soulless so-17 item-17" src="./static/resource/one-17.png"><img class="soulless so-14 item-14 owo-animation-floatUpDown" src="./static/resource/one-14.png" o-animation="floatUpDown"><img class="soulless so-5 button owo-animation-shrink" src="./static/resource/one-5.png" o-tap="goTwo" o-animation="shrink"><img class="soulless so-2 item-2" src="./static/resource/one-2.png"><img class="soulless so-3 item-3" src="./static/resource/one-3.png"></div>
    <!-- 页面[page2]-->
    <div class="page-2 owo" template="page2" style="display: none;"><img class="soulless so-13 item-13 owo-animation-floatUpDown" src="./static/resource/two-13.png" o-animation="floatUpDown"><img class="soulless so-9 item-9 owo-animation-floatLeftRight" src="./static/resource/two-9.png" o-animation="floatLeftRight"><img class="soulless so-10 item-10" src="./static/resource/two-10.png"><img class="soulless so-18 item-18" src="./static/resource/two-18.png"><img class="soulless so-11 item-11" src="./static/resource/two-11.png"><img class="soulless so-14 item-14 owo-animation-floatLeftRight" src="./static/resource/two-14.png" o-animation="floatLeftRight"><img class="soulless so-7 item-7 owo-animation-floatUpDown" src="./static/resource/two-7.png" o-animation="floatUpDown"><img class="soulless so-6 item-6 owo-animation-floatLeftRight" src="./static/resource/two-6.png" o-animation="floatLeftRight"><img class="soulless so-16 item-16 owo-animation-floatUpDown" src="./static/resource/two-16.png" o-animation="floatUpDown"><img class="soulless so-12 item-12 owo-animation-floatLeftRight" src="./static/resource/two-12.png" o-animation="floatLeftRight"><img class="soulless so-8 item-8 owo-animation-floatLeftRight" src="./static/resource/two-8.png" o-animation="floatLeftRight"><img class="soulless so-15 item-15 owo-animation-floatUpDown" src="./static/resource/two-15.png" o-animation="floatUpDown"><img class="soulless so-3 item-3 owo-animation-floatUpDown" src="./static/resource/two-3.png" o-animation="floatUpDown"><img class="soulless so-4 item-4 owo-animation-floatUpDown" src="./static/resource/two-4.png" o-animation="floatUpDown"><div class="card" template="card"><img class="soulless so-5 item-5" src="./static/resource/two-5.png"><img class="text ani" src=""><img class="people ani" src=""><img class="xiyu ani" src="./static/resource/xiyu.png"><img class="clould" src="./static/resource/clould.png"><div class="lable ani"><img></div><div class="scoreboard num" template="scoreboard"><div class="scoreboard-item">/ 6 /</div></div><div class="scoreboard doit" template="doit"><div class="scoreboard-item">1</div></div></div></div>
    <!-- 页面[page3]-->
    <div class="page-3 owo" template="page3" style="display: none;"><img class="reload button" src="./static/resource/reload-button.png" o-tap="location.reload()"><img class="save button" src="./static/resource/save-button.png"><img class="like-text"><div class="share-text"></div><img class="canvas-image"><p class="all-number"></p><img class="people-image"></div></div>
    

    <script src="http://tools.people.com.cn/libs/jquery/1.11.1/jquery-1.11.1.min.js" type="text/javascript"  charset="UTF-8"></script>
    <script src="./static/js/swiper.4.5.0.js" type="text/javascript"  charset="UTF-8"></script>
    <script src="./static/js/main.js" type="text/javascript"  charset="UTF-8"></script>
    <script src="./static/js/html2canvas.min.js" type="text/javascript"  charset="UTF-8"></script><!-- 框架script代码 --><!-- 框架script文件 -->
<script src="./static/js/owo.main.js" type="text/javascript" charset="UTF-8"></script>
<script>/*
  存储每个页面的函数
  键名：页面名称
  键值：方法列表
*/
owo.phoneEnter = "null";
owo.script = {
  "loading": {
    "data": {
      "imgList": ["./static/resource/two-5.png", "./static/resource/img-0.png", "./static/resource/img-1.png", "./static/resource/img-2.png", "./static/resource/img-3.png", "./static/resource/img-4.png", "./static/resource/img-5.png", "./static/resource/text-0.png", "./static/resource/text-1.png", "./static/resource/text-2.png", "./static/resource/text-3.png", "./static/resource/text-4.png", "./static/resource/one-1.png", "./static/resource/one-2.png", "./static/resource/one-3.png", "./static/resource/one-4.png", "./static/resource/one-5.png", "./static/resource/one-6.png", "./static/resource/one-7.png", "./static/resource/one-8.png", "./static/resource/one-9.png", "./static/resource/one-10.png", "./static/resource/one-11.png", "./static/resource/one-12.png", "./static/resource/one-13.png", "./static/resource/one-14.png", "./static/resource/one-15.png", "./static/resource/one-16.png", "./static/resource/one-17.png"]
    },
    "created": function created() {
      var mum = owo.query('.line')[0];
      this.preloadImages(this.data.imgList, function (e) {
        setTimeout(function () {
          owo.go('page1', '', '', '', '', true);
        }, 800);
      }, function (num) {
        mum.style.width = num + '%';
      });
    },
    "preloadImage": function preloadImage(src, successFn) {
      var image = new Image();
      image.src = src;

      image.onload = function () {
        successFn && successFn(src);
      };

      image.onerror = function (error) {
        successFn && successFn(src);
      };
    },
    "preloadImages": function preloadImages(srcs, doneFn, progressFn) {
      var _this = this;

      if (!Array.isArray(srcs)) {
        console.log('第一个参数只能是一个数组');
      } else {
        var allCount = srcs.length;
        var doneCount = 0;
        srcs.forEach(function (srcItem) {
          _this.preloadImage(srcItem, function () {
            doneCount++;
            progressFn && progressFn(Math.ceil(100 * doneCount / allCount));

            if (doneCount === allCount) {
              doneFn && doneFn();
            }
          });
        });
      }
    }
  },
  "page1": {
    "goTwo": function goTwo(params) {
      bgMusic = new Audio("./static/resource/bg.mp3");
      bgMusic.loop = true;
      bgMusic.play();
      owo.go('page2', 'scaleDownCenter', 'scaleUpCenter&&delay400', 'scaleDownCenter', 'scaleUpCenter&&delay400', true);
    }
  },
  "page2": {
    "template": {
      "card": {
        "data": {
          "nowIndex": 0,
          "likeNum": [],
          "allNumber": 0,
          "reverse": false,
          "in": {
            "text": "smallerleft 0.8s ease-in both 0s",
            "people": "smaller 0.4s ease-in both 0s",
            "lable": "bottomSmaller 0.6s linear both 0s",
            "xiyu": "smaller 0.3s ease-in both 0s"
          },
          "out": {
            "text": "hideToLeft 3s ease-in-out both",
            "people": "smallerOut 3.2s ease-in-out both 0.8s",
            "lable": "hideToTop 3s ease-in-out both 0.4s",
            "xiyu": "smallerOut 3s ease-in-out both 0.8s"
          },
          "out2": {
            "text": "hideToLeft2 3s ease-in-out both",
            "people": "smallerOut 3.2s ease-in-out both 0.8s",
            "lable": "hideToTop 3s ease-in-out both 0.4s",
            "xiyu": "hideToLeft2 2.8s ease-in-out both"
          },
          "infoList": [{
            "text": "./static/resource/text-0.png",
            "lable": "./static/resource/lable-0.png",
            "people": "./static/resource/img-0.png"
          }, {
            "text": "./static/resource/text-1.png",
            "lable": "./static/resource/lable-1.png",
            "people": "./static/resource/img-1.png"
          }, {
            "text": "./static/resource/text-2.png",
            "lable": "./static/resource/lable-2.png",
            "people": "./static/resource/img-2.png"
          }, {
            "text": "./static/resource/text-3.png",
            "lable": "./static/resource/lable-3.png",
            "people": "./static/resource/img-3.png"
          }, {
            "text": "./static/resource/text-4.png",
            "lable": "./static/resource/lable-4.png",
            "people": "./static/resource/img-4.png"
          }, {
            "text": "./static/resource/text-5.png",
            "lable": "./static/resource/lable-5.png",
            "people": "./static/resource/img-5.png"
          }, {
            "text": "./static/resource/text-6.png",
            "lable": "./static/resource/lable-6.png",
            "people": "./static/resource/img-6.png"
          }, {
            "text": "./static/resource/text-7.png",
            "lable": "./static/resource/lable-7.png",
            "people": "./static/resource/img-7.png"
          }, {
            "text": "./static/resource/text-8.png",
            "lable": "./static/resource/lable-8.png",
            "people": "./static/resource/img-8.png"
          }, {
            "text": "./static/resource/text-9.png",
            "lable": "./static/resource/lable-9.png",
            "people": "./static/resource/img-9.png"
          }, {
            "text": "./static/resource/text-10.png",
            "lable": "./static/resource/lable-10.png",
            "people": "./static/resource/img-10.png"
          }, {
            "text": "./static/resource/text-11.png",
            "lable": "./static/resource/lable-11.png",
            "people": "./static/resource/img-11.png"
          }, {
            "text": "./static/resource/text-12.png",
            "lable": "./static/resource/lable-12.png",
            "people": "./static/resource/img-12.png"
          }, {
            "text": "./static/resource/text-13.png",
            "lable": "./static/resource/lable-13.png",
            "people": "./static/resource/img-13.png"
          }, {
            "text": "./static/resource/text-14.png",
            "lable": "./static/resource/lable-14.png",
            "people": "./static/resource/img-14.png"
          }, {
            "text": "./static/resource/text-15.png",
            "lable": "./static/resource/lable-15.png",
            "people": "./static/resource/img-15.png"
          }, {
            "text": "./static/resource/text-16.png",
            "lable": "./static/resource/lable-16.png",
            "people": "./static/resource/img-16.png"
          }, {
            "text": "./static/resource/text-17.png",
            "lable": "./static/resource/lable-17.png",
            "people": "./static/resource/img-17.png"
          }]
        },
        "addAni": function addAni(params) {
          var _this2 = this;

          for (var key in this.data["in"]) {
            if (this.data["in"].hasOwnProperty(key)) {
              var ani = this.data["in"][key];
              this.$el.getElementsByClassName("" + key)[0].style.animation = ani;
            }
          }

          setTimeout(function () {
            _this2.clearAni();

            setTimeout(function () {
              _this2.next();
            }, 500);
          }, 3500);
        },
        "clearAni": function clearAni(params) {
          for (var key in this.data["in"]) {
            if (this.data["in"].hasOwnProperty(key)) {
              this.$el.getElementsByClassName("" + key)[0].style.animation = '';
            }
          }
        },
        "removeAni": function removeAni() {
          var _this3 = this;

          this.data.reverse = !this.data.reverse;

          for (var key in this.data.reverse ? this.data.out : this.data.out2) {
            var ani = this.data.reverse ? this.data.out[key] : this.data.out2[key];
            this.$el.getElementsByClassName("" + key)[0].style.animation = ani;
          }

          setTimeout(function () {
            _this3.clearAni(); // 播放完成进入下一页


            if (_this3.data.nowIndex > 17) {
              setTimeout(function () {
                owo.go('page3', 'scaleDownCenter', 'scaleUpCenter&&delay400', 'scaleDownCenter', 'scaleUpCenter&&delay400', true);
              }, 0);
            } else {
              setTimeout(function () {
                _this3.next();
              }, 1000);
            }
          }, 4000);
        },
        "changeImage": function changeImage(ind) {
          var _this4 = this;

          setTimeout(function () {
            _this4.template.doit.changeText(_this4.data.nowIndex);

            if (_this4.data.likeNum[_this4.data.nowIndex] == undefined) _this4.data.likeNum[_this4.data.nowIndex] = 0;

            _this4.template.scoreboard.changeText("" + _this4.data.allNumber);
          }, 0);
          owo.query('.text')[0].src = this.data.infoList[ind].text;
          owo.query('.people')[0].src = this.data.infoList[ind].people;
          owo.query('.lable img')[0].src = this.data.infoList[ind].lable;
          this.data.nowIndex++;
        },
        "next": function next() {
          var _this5 = this;

          console.log('继续');
          this.removeAni();
          setTimeout(function () {
            _this5.changeImage(_this5.data.nowIndex);
          }, 2000);
        },
        "show": function show() {
          var _this6 = this;

          this.changeImage(this.data.nowIndex);
          this.addAni();
          setTimeout(function () {
            owo.tool.toast('点击屏幕为热词点赞!', {
              time: 3000
            });
          }, 1000);
          console.log('加载了'); // owo.tool.animate('zoomIn', this.$el.getElementsByClassName('text')[0], 1000)

          owo.tool.heart(this.$el, function (params) {
            // 增加计数器
            _this6.data.likeNum[_this6.data.nowIndex];

            _this6.template.scoreboard.changeText("" + ++_this6.data.allNumber);
          });
        },
        "propMap": {},
        "template": {
          "scoreboard": {
            "data": {
              "changing": false
            },
            "changeText": function changeText(text) {
              var _this7 = this;

              // 限制刷新频率
              if (this.data.changing) return;
              var firstChild = this.$el.children[0];
              this.data.changing = true;
              var newEl = document.createElement('div');
              newEl.classList.add('scoreboard-item');
              newEl.innerHTML = text;
              this.$el.appendChild(newEl);
              newEl.style.top = "40px";
              setTimeout(function () {
                firstChild.style.top = "-40px";
                newEl.style.top = "0";
                setTimeout(function () {
                  firstChild.remove();
                  _this7.data.changing = false;
                }, 500);
              }, 100);
            },
            "prop": {
              "class": "num"
            },
            "propMap": {}
          },
          "doit": {
            "data": {
              "changing": false
            },
            "changeText": function changeText(text) {
              var _this8 = this;

              // 限制刷新频率
              if (this.data.changing) return;
              var firstChild = this.$el.children[0];
              this.data.changing = true;
              var newEl = document.createElement('div');
              newEl.classList.add('scoreboard-item');
              newEl.innerHTML = text;
              this.$el.appendChild(newEl);
              newEl.style.top = "40px";
              setTimeout(function () {
                firstChild.style.top = "-40px";
                newEl.style.top = "0";
                setTimeout(function () {
                  firstChild.remove();
                  _this8.data.changing = false;
                }, 500);
              }, 100);
            },
            "prop": {
              "class": "doit"
            },
            "propMap": {}
          }
        }
      }
    }
  },
  "page3": {
    "data": {
      "likeList": ["追梦人", "瓣瓣不同，却瓣瓣同心", "黑天鹅、灰犀牛", "共和国是红色的", "不获全胜决不收兵", "实实在在、心无旁骛做实业", "基层减负", "我将无我，不负人民", "两不愁三保障", "做好我们自己的事情", "不忘初心、牢记使命", "垃圾分类", "新时代的长征路", "斗争精神", "区块链", "国家治理体系和治理能力现代化", "中国市场这么大，欢迎大家都来看看", "用不着任何外部势力指手画脚"]
    },
    "created": function created(params) {
      var _this9 = this;

      var maxIndex = 0;
      var maxNum = 0;
      var likeList = owo.script.page2.template.card.data.likeNum;

      for (var key in likeList) {
        var num = likeList[key];

        if (num > maxNum) {
          maxNum = num;
          maxIndex = key;
        }
      }

      owo.query('.all-number')[0].innerHTML = "/ " + owo.script.page2.template.card.data.allNumber + " /";
      owo.query('.share-text')[0].innerHTML = "\u4F60\u4E3A\u4E60\u8FD1\u5E73\u70ED\u8BCD\u70B9\u8D5E<span>" + owo.script.page2.template.card.data.allNumber + "</span>\u6B21<br>\u4E3A<span>" + this.data.likeList[maxIndex] + "</span>\u70B9\u51FA\u6700\u9AD8\u8D5E\uFF01";
      owo.query('.like-text')[0].src = "./static/resource/text-" + maxIndex + ".png";
      owo.query('.people-image')[0].src = "./static/resource/img-" + maxIndex + ".png";
      setTimeout(function () {
        html2canvas(document.body, {
          height: window.innerHeight
        }).then(function (canvas) {
          var base64Img = canvas.toDataURL('image/jpg');
          owo.query('.canvas-image')[0].src = base64Img;
        });
        setTimeout(function () {
          _this9.$el.classList.add('ok');
        }, 1000);
      }, 2000);
    }
  }
};</script>
  </body>
</html>